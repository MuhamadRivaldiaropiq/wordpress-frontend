import{A as i,H as u}from"./index-65396532.js";const l=()=>u.get("/sanctum/csrf-cookie"),o=i({id:"user",state:()=>({user:[],loading:!1,error:null,singleData:{}}),getters:{allUser:e=>e.user,isLoading:e=>e.loading,getError:e=>e.error},actions:{async getUsers(){this.loading=!0;try{const e=await u.get("/api/users").then(t=>{this.user=t.data})}catch(e){this.error=e}finally{this.loading=!1}},async AddUser(e,t,a){await l(),a.value=!0,await u.post("/api/users",e).then(s=>{a.value=!1,this.user.push(s.data),this.router.push({name:"admin.user.index"})}).catch(s=>{if(s.response.status!==422)throw s;t.value=Object.values(s.response.data.errors).flat(),a.value=!1})},async getUserById(e){this.loading=!0;try{const t=await u.get(`/api/users/${e}`).then(a=>{this.user=a.data})}catch(t){this.error=t}finally{this.loading=!1}},async UpdateUsers(e,t,a,s){await l(),s.value=!0,u.post(`/api/users/${t}`,e).then(r=>{s.value=!1,this.router.push({name:"admin.user.index"}),console.log(r)}).catch(r=>{if(r.response.status!==422)throw r;a.value=Object.values(r.response.data.errors).flat(),s.value=!1})},async Remove(e,t,a){a.value=!0,u.delete(`/api/users/${e}`).then(s=>{a.value=!1,this.user=this.user.filter(r=>r.id!==e)}).catch(s=>{if(s.response.status!==422)throw s;t.value=Object.values(s.response.data.errors).flat(),a.value=!1})}}});export{o as u};
