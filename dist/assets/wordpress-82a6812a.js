import{A as d,H as o}from"./index-65396532.js";const l=()=>o.get("/sanctum/csrf-cookie"),n=d({id:"wordpress",state:()=>({wordpress:[],loading:!1,error:null,singleData:{}}),getters:{allWordpress:s=>s.wordpress,isLoading:s=>s.loading,getError:s=>s.error},actions:{async getWordpress(){this.loading=!0;try{const s=await o.get("/api/wordpress").then(t=>{this.wordpress=t.data})}catch(s){this.error=s}finally{this.loading=!1}},async addWordpress(s,t,e){await l(),e.value=!0,await o.post("/api/wordpress",s).then(a=>{e.value=!1,this.wordpress.push(a.data),this.router.push({name:"admin.wordpress.index"})}).catch(a=>{if(console.log(a),a.response.status!==422)throw a;t.value=Object.values(a.response.data.errors).flat(),e.value=!1})},async editProduct(s,t,e,a){await l(),e.value=!0,o.post(`/api/product/${a}`,s).then(r=>{e.value=!1,console.log(r)}).catch(r=>{if(console.log(r),r.response.status!==422)throw r;t.value=Object.values(r.response.data.errors).flat(),e.value=!1})},async RemoveWp(s,t,e){e.value=!0;try{const a=await o.delete(`/api/wordpress/${s}`);console.log(a),e.value=!1,this.wordpress=this.wordpress.filter(r=>r.id!==s)}catch(a){this.error=a,console.log(this.error),e.value=!1}finally{e.value=!1}},async getWordpressById(s){this.loading=!0;try{const t=await o.get(`/api/wordpress/wordpress-by-id/${s}`).then(e=>{this.wordpress=e.data})}catch(t){this.error=t}finally{this.loading=!1}}}});export{n as w};
